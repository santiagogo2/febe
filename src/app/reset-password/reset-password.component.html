<section id="wrapper" class="login-register login-sidebar" style="background-image:url(../assets/images/background/loginBackground.jpg);">
    <div class="son">
        <div class="login-box card">
            <div class="card-body">
                <div class="titleContainer">
                    <h1>{{ pageTitle }}</h1>
                </div>

                <ng-container *ngIf="!user">
                    <div class="mt-3 col col-sm-12 errorAlert" *ngIf="responseMessage">
                        <div class="alert alert-danger" role="alert">
                            {{ responseMessage + '. Si no ha realizado la solicitud por favor haga click en el siguiente ' }} <a routerLink="/forgot-password">enlace</a>
                        </div>
                    </div>
                    <div class="deleteLoader mt-2" id="loader" *ngIf="preloaderStatus">
                        <div class="loader"></div>
                    </div>
                </ng-container>

                <form #resetPasswordForm="ngForm" class="formContainer" id="resetPasswordForm" (ngSubmit)="onSubmit(resetPasswordForm)" *ngIf="user">
                    <div class="form-group">
                        <div class="col col-sm-12">
                            <input type="text" name="documentId" id="documentId" class="form-control inputForm" disabled value="{{ user.documentId }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col col-sm-12">
                            <input type="email" name="email" id="email" class="form-control inputForm" disabled value="{{ user.email }}">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col col-sm-12">
                            <input type="password" name="password" id="password" class="form-control inputForm" [ngClass]="{'is-invalid': password.touched && password.invalid}" #password="ngModel" [(ngModel)]="user.password" required placeholder="Contraseña">
                            <small class="invalid-feedback d-block" *ngIf="password.touched && password.invalid">Debe ingresar su contraseña</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col col-sm-12">
                            <input type="password" name="passwordConfirm" id="passwordConfirm" class="form-control inputForm" [ngClass]="{'is-invalid': passwordConfirm.touched && passwordConfirm.invalid}" #passwordConfirm="ngModel" [(ngModel)]="passConfirm" (ngModelChange)="checkPassword($event)"
                                required placeholder="Confirmar contraseña">
                            <small class="invalid-feedback d-block" *ngIf="passwordConfirm.touched && !samePasswords">Las contraseñas no coinciden</small>
                        </div>
                    </div>

                    <div class="buttonSubmit col-sm-12">
                        <input type="submit" value="Cambiar Contraseña" class="btn btn-info btnPrefer col-sm-12" [disabled]="resetPasswordForm.invalid || !samePasswords">
                    </div>
                    <div class="mt-3 col col-sm-12 errorAlert" *ngIf="responseMessage">
                        <div class="alert alert-danger" role="alert">
                            {{ responseMessage }}
                        </div>
                    </div>
                    <div class="deleteLoader mt-2" id="loader" *ngIf="preloaderStatus">
                        <div class="loader"></div>
                    </div>
                </form>
            </div>
        </div>
        <div class="login-box card mt-2">
            <div class="card-body">
                <div class="col col-12">
                    <div class="login-text" style="font-size: 14px; margin-top: 0px;">
                        <span>¿Recordaste tu contraseña? <a routerLink="/login">Inicia sesión</a></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>